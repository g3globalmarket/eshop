# =============================================================================
# Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in the actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# MongoDB connection string (required for all services)
# Format: mongodb://[username:password@]host[:port]/database[?options]
# Example: mongodb://user:pass@localhost:27017/eshop
DATABASE_URL=your_mongodb_connection_string_here

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
# Redis connection string (optional, used for QPay token caching and sessions)
# Priority: REDIS_DATABASE_URI > REDIS_URL > REDIS_URI > REDIS_HOST+REDIS_PORT
# Format: redis://[password@]host[:port][/database]
# Example: redis://localhost:6379
REDIS_DATABASE_URI=your_redis_connection_string_here
# Alternative: REDIS_URL=redis://localhost:6379
# Alternative: REDIS_URI=redis://localhost:6379
# Fallback options (if connection string not provided):
# REDIS_HOST=localhost
# REDIS_PORT=6379

# -----------------------------------------------------------------------------
# QPay Payment Gateway
# -----------------------------------------------------------------------------
# QPay API base URL (optional, defaults to production)
# Production: https://merchant.qpay.mn
# Sandbox: https://merchant-sandbox.qpay.mn
QPAY_BASE_URL=https://merchant.qpay.mn

# QPay authentication credentials (required for QPay integration)
# Supports multiple variable names for flexibility:
# - QPAY_USERNAME (primary) or QPAY_USER or QPAY_MERCHANT_USERNAME or QPAY_CLIENT_ID
# - QPAY_PASSWORD (primary) or QPAY_PASS or QPAY_CLIENT_SECRET
QPAY_USERNAME=your_qpay_merchant_username
QPAY_PASSWORD=your_qpay_merchant_password

# QPay invoice code (required for QPay integration)
QPAY_INVOICE_CODE=your_qpay_invoice_code

# USD to Mongolian Tugrik conversion rate (optional, default: 3400)
QPAY_USD_TO_MNT_RATE=3400

# Public base URL for QPay webhook callbacks (optional, default: http://localhost:8080)
# Should be https://nomadnet.shop in production
QPAY_CALLBACK_PUBLIC_BASE_URL=https://nomadnet.shop

# QPay webhook secret for /callback endpoint validation (optional)
QPAY_WEBHOOK_SECRET=your_qpay_webhook_secret_here

# QPay debug and advanced settings (optional)
# QPAY_DEBUG_AUTH=false
# QPAY_AUTH_URL=
# QPAY_TOKEN_URL=
# QPAY_RECONCILE_ENABLED=true
# QPAY_CLEANUP_ENABLED=true
# QPAY_CLEANUP_INTERVAL_MS=21600000
# QPAY_WEBHOOK_EVENT_RETENTION_DAYS=90
# QPAY_SESSION_PROCESSED_RETENTION_DAYS=30
# QPAY_SESSION_FAILED_RETENTION_DAYS=30
# QPAY_PROCESSED_INVOICE_RETENTION_DAYS=365
# QPAY_SESSION_EXPIRY_MINUTES=30

# QPay Ebarimt (Mongolian e-receipt) settings (optional)
# QPAY_EBARIMT_ENABLED=true
# QPAY_EBARIMT_DEFAULT_RECEIVER_TYPE=CITIZEN
# QPAY_EBARIMT_DEFAULT_DISTRICT_CODE=3505
# QPAY_EBARIMT_DEFAULT_CLASSIFICATION_CODE=0000010

# -----------------------------------------------------------------------------
# ImageKit (Image Storage/CDN)
# -----------------------------------------------------------------------------
# ImageKit credentials (required if using image upload functionality)
IMAGEKIT_PUBLIC_KEY=your_imagekit_public_key
IMAGEKIT_SECRET_KEY=your_imagekit_secret_key
# ImageKit URL endpoint (optional, default: https://ik.imagekit.io/gglobal)
IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/gglobal

# -----------------------------------------------------------------------------
# SMTP Email Service
# -----------------------------------------------------------------------------
# SMTP configuration (required for email sending)
# Used by: auth-service, order-service
SMTP_HOST=your_smtp_host
SMTP_PORT=587
# SMTP service name (optional, e.g., "gmail", "sendgrid")
SMTP_SERVICE=
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password

# -----------------------------------------------------------------------------
# Kafka
# -----------------------------------------------------------------------------
# Kafka broker addresses (required for event streaming)
# Format: comma-separated list of broker addresses
# Docker: kafka:9092
# Local: localhost:9092
KAFKA_BROKERS=kafka:9092

# -----------------------------------------------------------------------------
# Docker & Deployment
# -----------------------------------------------------------------------------
# Docker Hub username for image registry (required for Docker builds)
DOCKER_USERNAME=your_dockerhub_username

# Environment mode (optional, default: development)
# Options: development, production
NODE_ENV=production

# Service URL resolution mode (optional)
# Options: local, docker, or unset (uses NODE_ENV logic)
# SERVICE_URL_MODE=docker

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# JWT secrets for token generation (required for authentication)
# Used by: auth-service, middleware
ACCESS_TOKEN_SECRET=your_access_token_secret_here
REFRESH_TOKEN_SECRET=your_refresh_token_secret_here

# -----------------------------------------------------------------------------
# Stripe Payment Gateway (Optional)
# -----------------------------------------------------------------------------
# Stripe secret key (optional, used if Stripe integration is enabled)
# Used by: auth-service, order-service, product-service
STRIPE_SECRET_KEY=your_stripe_secret_key_here
# Stripe webhook secret (optional, for webhook validation)
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret_here

# -----------------------------------------------------------------------------
# Next.js Public Environment Variables
# -----------------------------------------------------------------------------
# These variables are exposed to the browser (NEXT_PUBLIC_* prefix)
# Used by: user-ui, seller-ui, admin-ui

# Main API server URL (required for user-ui, seller-ui, admin-ui)
NEXT_PUBLIC_SERVER_URI=https://nomadnet.shop

# WebSocket URL for chat (required for user-ui, seller-ui)
NEXT_PUBLIC_CHATTING_WEBSOCKET_URI=wss://nomadnet.shop/ws-chatting

# Seller UI URL (required for user-ui)
NEXT_PUBLIC_SELLER_SERVER_URI=https://sellers.nomadnet.shop

# User UI link (required for seller-ui, admin-ui)
NEXT_PUBLIC_USER_UI_LINK=https://nomadnet.shop

# WebSocket URL for logger service (required for admin-ui)
NEXT_PUBLIC_SOCKET_URI=wss://nomadnet.shop/ws-loggers

# Stripe publishable key (optional, for Stripe integration)
NEXT_PUBLIC_STRIPE_PUBLIC_KEY=your_stripe_publishable_key_here

# Payment provider selection (optional, default: stripe)
# Options: stripe, qpay
NEXT_PUBLIC_PAYMENT_PROVIDER=qpay

# QPay Ebarimt frontend settings (optional)
# NEXT_PUBLIC_QPAY_EBARIMT_DISTRICT_CODE=3505
# NEXT_PUBLIC_QPAY_EBARIMT_CLASSIFICATION_CODE=0000010

# -----------------------------------------------------------------------------
# Service Ports (Optional - defaults provided)
# -----------------------------------------------------------------------------
# Service ports can be customized if needed
# PORT=8080  # api-gateway default
# PORT=6001  # auth-service default
# PORT=6002  # product-service default
# PORT=6003  # order-service default
# PORT=6004  # seller-service default
# PORT=6005  # admin-service default
# PORT=6006  # chatting-service default
# PORT=6007  # recommendation-service default
# PORT=6008  # logger-service default

# -----------------------------------------------------------------------------
# Debug & Development
# -----------------------------------------------------------------------------
# Enable debug logging for env-loader (optional)
# ENV_LOADER_DEBUG=false

# Enable internal webhook debug logging (optional)
# INTERNAL_WEBHOOK_DEBUG=false

# Docker environment flag (optional, used by Kafka utils)
# DOCKER_ENV=true

# Test/Development URLs (optional)
# ORDER_SERVICE_URL=http://localhost:6003
# HOST=localhost

# Payment provider backend setting (optional, default: stripe)
# PAYMENT_PROVIDER=qpay

# =============================================================================
# Notes:
# - All values marked as "required" must be set for the application to function
# - Optional values have defaults or the feature will be disabled if not set
# - Never commit actual .env file to version control
# - Use different .env files for different environments (.env.local, .env.production)
# =============================================================================
